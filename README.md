# 果易管 - 脐橙果园一体化管理后台

## 项目简介

果易管是一个专为脐橙果园打造的一体化管理后台系统，旨在解决"采摘-入库-分级-出库"四大核心环节的混乱问题，实现库存实时化、损耗可视化、订单可追溯。

## 技术栈

- **前端框架**: React 19 + TypeScript
- **构建工具**: Vite
- **状态管理**: Zustand
- **路由**: React Router DOM
- **图表库**: Recharts
- **日期处理**: date-fns

## 功能模块

### 1. 数据看板 (Dashboard)
- 实时总库存展示（待分拣/已分拣）
- 今日销售额
- 待发货订单统计
- 库存预警提醒
- 库存结构可视化图表（按等级、按库龄）
- 快捷操作入口

### 2. 果园管理 (Orchard)
- 地块管理（添加、编辑、删除）
- 采摘入账（极简录入界面）
- 地块统计
- 待分拣记录列表
- 历史记录查询

### 3. 库存管理 (Inventory) - 核心模块
- 分拣入库（将待分拣库存转化为等级库存）
- 实时库存列表（按等级汇总）
- 批次详情查看
- FIFO（先进先出）自动推荐
- 库龄预警（超过阈值自动提醒）
- 库存盘点

### 4. 订单管理 (Order)
- 创建订单（库存检查、智能提醒）
- 订单状态管理（待审核 → 待发货 → 已发货 → 已完成）
- 发货出库（FIFO批次推荐）
- 自动库存扣减
- 收款状态管理

### 5. 简易财务 (Finance)
- 订单成本录入（物流费、包材费等）
- 订单毛利计算
- 应收账款管理
- 财务概览（总销售额、总成本、总毛利、已收款、应收账款）

### 6. 基础设置 (Settings)
- 产品等级自定义
- 地块管理
- 客户管理
- 库龄预警阈值设置
- 用户切换（支持多角色：管理员、仓库主管、采摘队长）
- 权限管理（不同角色看到不同菜单）

## 用户角色

- **管理员（老板）**: 拥有所有权限，可以查看所有模块
- **仓库主管**: 可以访问除财务模块外的所有模块
- **采摘队长**: 只能访问果园管理模块

## 安装与运行

### 安装依赖

```bash
npm install
```

### 开发模式

```bash
npm run dev
```

### 构建生产版本

```bash
npm run build
```

### 预览生产版本

```bash
npm run preview
```

## 项目结构

```
src/
├── components/          # 公共组件
│   ├── Layout.tsx      # 布局组件
│   └── Layout.css
├── pages/              # 页面组件
│   ├── Dashboard.tsx   # 数据看板
│   ├── Orchard.tsx     # 果园管理
│   ├── Inventory.tsx   # 库存管理
│   ├── Order.tsx       # 订单管理
│   ├── Finance.tsx     # 简易财务
│   └── Settings.tsx    # 基础设置
├── store/              # 状态管理
│   └── useStore.ts     # Zustand store
├── types/              # TypeScript 类型定义
│   └── index.ts
├── mock/               # Mock 数据
│   └── data.ts
├── App.tsx             # 应用入口
└── main.tsx            # 应用启动文件
```

## 核心特性

### 移动端优先设计
- 响应式布局，适配手机、平板、PC
- 大字体、清晰按钮，适合户外使用
- 简洁的交互设计，减少键盘输入

### 实时库存管理
- 库存实时更新
- 批次追踪
- 库龄自动计算
- 预警提醒

### FIFO 先进先出
- 系统自动按入库日期排序
- 发货时优先推荐最老的批次
- 减少损耗风险

### 数据可视化
- 库存结构饼图
- 库龄分布柱状图
- 直观的数据展示

## 开发计划

### V1.0 (MVP - 当前版本)
- ✅ 核心库存管理
- ✅ 订单管理
- ✅ 数据看板
- ✅ 基础设置

### V1.1 (体验优化)
- [ ] 离线功能支持（采摘入账）
- [ ] 数据看板丰富度提升
- [ ] 扫码功能（批次、订单）

### V2.0 (价值延伸)
- [ ] 完整财务模块
- [ ] 包材管理
- [ ] 物流追踪
- [ ] 工人计件工资
- [ ] 数据导出

## 注意事项

- 当前版本使用 Mock 数据，数据仅存储在内存中，刷新页面后会重置
- 生产环境需要接入后端 API
- 离线功能需要 Service Worker 支持（V1.1 计划）

## 许可证

MIT
